# Codex with yolo mode (no approvals, no sandbox)
# Uses codex's built-in session management
# Resume last session if exists, otherwise start new

local cwd_name="$(basename $(pwd))"

# Try to resume the last session in this directory
# If no session exists or resume fails, start fresh
if ! command codex resume --last --dangerously-bypass-approvals-and-sandbox 2>/dev/null; then
  echo "Starting new Codex session in ${cwd_name}..."
  command codex --dangerously-bypass-approvals-and-sandbox
fi
